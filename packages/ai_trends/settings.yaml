# packages/ai_trends/settings.yaml

package:
  name: "ai_trends"
  display_name: "AI Trends & Innovations"
  description: "Veille sur l'intelligence artificielle et le machine learning"

# === SOURCES ===
reddit:
  subreddits:
    - accelerate
    - AGI
    - AI_Agents
    - AIethics
    - artificial
    - ArtificialInteligence
    - ChatGPT
    - ClaudeAI
    - claudexplorers
    - comfyui
    - DarkFuturology
    - DefendingAIArt
    - Entrepreneur
    - ExperiencedDevs
    - Futurology
    - LocalLLaMA
    - MachineLearning
    - QwenImageGen
    - singularity
    - StableDiffusion
    - Teachers
    - technology

  # Number of posts to fetch per subreddit
  posts_limit: 5

  # Sort method: hot, top, rising, new
  sort_by: hot

  # Timeframe for posts (only used when sort_by: top)
  timeframe: day

  # Minimum score filter (safety net for hot/rising)
  min_score: 5

  # Include top comments
  include_comments: true
  comments_limit: 5

youtube:
  enabled: false  # Set to true to enable YouTube collection

  # Search by keywords
  keywords:
  #  - "AI research"
  #  - "LLM"
  #  - "Anthropic"
  #  - "Claude Code"

  # Specific channels to monitor (Channel IDs or usernames)
  channels:
  #  - "@YannicKilcher"
  #  - "@aiexplained-official"
  #  - "@matthew_berman"
  #  - "@aiDotEngineer"
  #  - "@MarinaWyssAI"
  #  - "@LudovicSalenne"

  # Number of videos per search/channel
  videos_limit: 1

  # Number of days to look back
  days_back: 2

  # Accepted languages for transcripts
  languages:
    - fr
    - en

# === NLI PRE-FILTER ===
# Fast pre-filtering using lightweight NLI model (zero-shot classification)
# Reduces LLM calls by filtering obvious non-relevant content first
nli_prefilter:
  enabled: true
  model: "facebook/bart-large-mnli"  # Lightweight, fast model
  threshold: 0.45  # Confidence threshold (0.0-1.0). Lower = keep more, higher = stricter
  max_text_length: 512  # Characters to analyze (title + beginning of content)
  device: "cpu"  # "cpu", "cuda", or "mps" (Apple Silicon)
  # Custom relevance labels (first label = "relevant", second = "not relevant")
  relevance_labels:
    - "relevant technology, AI, or machine learning news"
    - "off-topic, personal, or irrelevant content"

# === ANALYSE ===
analysis:
  # Minimum relevance score (0-100 scale) to consider content
  relevance_threshold: 60
  # Maximum number of items to publish (top scored items)
  max_items: 12
  # Similarity thresholds for deduplication
  simhash_threshold: 0.85    # For near-identical content (locality-sensitive hashing)
  tfidf_threshold: 0.67      # For semantic similarity (TF-IDF cosine, recommended: 0.67)
  categories:
    - "AGI (Artificial General Intelligence)"
    - "AI for Creative Applications"
    - "AI and Video Games"
    - "Large Language Models"
    - "Vibe Coding"
    - "Reinforcement Learning"
    - "AI Ethics & Safety"
    - "AI Tools & Applications"
    - "AI Research Papers"
    - "AI Agents & Autonomous Systems"
    - "Multimodal AI"
    - "AI Regulation & Policy"
    - "Open Source Models"
    - "AI Hardware & Infrastructure"
    - "Generative AI (Text/Image/Video/Audio)"
    - "AI in Healthcare"
    - "AI Security & Adversarial Attacks"
    - "Robotics & Embodied AI"
    - "AI Benchmarks & Evaluations"
    - "Enterprise AI & Business Applications"
    - "AI Startups & Funding"
    - "Model Fine-tuning & Training"
    - "Prompt Engineering"

# === RAPPORTS ===
reports:
  date_format: "%Y-%m-%d"
  output_dir: "data/ai_trends/reports"
  min_insights: 3
  include_metrics: true
  language: "fr"

# === NOTIFICATIONS ===
discord:
  enabled: true
  rich_embeds: true
  send_executive_summary: true
  send_metrics: true
  mention_role: ""
  webhook_env: "DISCORD_AI_TRENDS_WEBHOOK"
  # thread_name: "AI Trends Report"  # Disabled to avoid creating multiple threads
  summary:
    enabled: true
    webhook_env: "DISCORD_AI_TRENDS_SUMMARY_WEBHOOK"
    mention_role: ""
    # thread_name: "AI Daily Summary"  # Required for forum channels (disabled for text channels)

synology:
  enabled: false
  send_executive_summary: true
  send_metrics: true
  mention: ""
  webhook_env: "SYNOLOGY_AI_TRENDS_WEBHOOK"
  summary:
    enabled: false
    webhook_env: "SYNOLOGY_AI_TRENDS_SUMMARY_WEBHOOK"
    mention: ""

# === FALLBACK ===
# Fallback retry mechanism for failed notifications
fallback:
  max_retries: 3      # Number of retry attempts
  retry_delay: 5.0    # Delay in seconds between retries (exponential backoff applied)

# === CACHE ===
cache:
  retention_days: 90
