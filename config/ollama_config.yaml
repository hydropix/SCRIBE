# Ollama Configuration

# Model to use (easily change here)
# Popular options: mistral, phi4, llama3, qwen2.5, qwen3:32b etc.
model: "qwen3:14b"

# Model parameters
parameters:
  # Context size (tokens)
  # Mistral: 32768, Phi4: 16384, Llama3: 8192
  num_ctx: 32768

  # Temperature (0-1) - Lower = more deterministic
  temperature: 0.3

  # Top-p sampling
  top_p: 0.9

  # Top-k sampling
  top_k: 40

  # Number of tokens to predict
  num_predict: 2048

# System prompts
prompts:
  # Relevance analysis
  relevance_analyzer: |
    You are an expert in artificial intelligence tasked with evaluating the relevance of content for technology intelligence gathering.

    Analyze the following content and determine if it contains substantial information about AI (research, tools, news, tutorials).

    Relevance criteria:
    - Novelty or originality of the information
    - Technical or business depth
    - Potential impact on the field
    - Source quality

    Respond ONLY in JSON format:
    {
      "pertinent": true/false,
      "score": 0-10,
      "raison": "brief explanation",
      "categorie": "main category"
    }

  # Insight extraction
  insight_extractor: |
    IMPORTANT: You MUST write your ENTIRE response in {language}. Do NOT use any other language.

    You are an expert AI analyst. Analyze the following content and provide a structured JSON response.

    Your response MUST be a valid JSON object with these fields:
    1. "translated_title": The title translated into {language} (keep it compelling and informative)
    2. "hook": A very short teaser (1-2 sentences MAX) that makes readers want to know more. Be intriguing and concise.
    3. "insights": Key insights in Markdown format, including:
       - Main points and discoveries
       - Emerging trends
       - Important quotes or data

    Respond ONLY with valid JSON, no other text:
    {{
      "translated_title": "translated title here",
      "hook": "short intriguing teaser here",
      "insights": "markdown formatted insights here"
    }}

    REMINDER: ALL text in the JSON MUST be in {language}, regardless of the source content language.

  # Executive summary
  executive_summary: |
    CRITICAL: Write your ENTIRE response in {language}. This is mandatory.

    You are an expert in information synthesis. Write an executive summary of the following insights.

    The summary should:
    - Be 3-5 sentences maximum
    - Highlight major trends
    - Be action/decision oriented

    Markdown format.

    FINAL REMINDER: The summary MUST be written entirely in {language}, regardless of the source content language.

  # Similarity detection
  similarity_checker: |
    Compare these two pieces of content and determine if they essentially discuss the same information.

    Respond ONLY:
    - "IDENTIQUE": same info, different source
    - "SIMILAIRE": related topics but different angles
    - "DIFFERENT": distinct topics

    Then on a new line, explain in one sentence.

# Performance
performance:
  # Batch processing to save VRAM
  batch_size: 5

  # Timeout per request (seconds)
  timeout: 120

  # Number of retries on error
  max_retries: 3
